<!DOCTYPE html>
<html>
<head>
	<title>Exemplo ajax básico</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script>
		window.onload=function(){
			function liga(){
				var start = document.getElementById('start');
				start.play();
				$("#gameboy").removeClass("dOff");
				$("#luz").removeClass("dOff");

				function hide(){
					$("#btn").prop("disabled", false);
					$("#loading").addClass("dOff");
					$("#gameboy").addClass("dOff");
					$("#ajax").removeClass("dOff");						
				} 
				setTimeout(hide, 1800);
			}
			setTimeout(liga, 5000);
		};
	</script>
	
	<link rel="icon" href="ajax.png">
	<link rel="stylesheet" href="fonts/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="css/ajax.css">
</head>
<body>
	<!--Loading inicial-->
	<i id="loading" class="fa fa-asterisk fa-spin" aria-hidden="true"></i>

	<!--turn on gameboy-->
	<audio id="start" src="gameboy.mp3"></audio>
	<img id="gameboy" class="dOff tela" src="gameboy.gif">
	<!--red lux-->
	<div id="luz" class="dOff"></div>

	<!--start joke-->
	<audio id="girl" src="girl.mp3"></audio>
	<img id="troll" class="dOff tela" src="troll.gif">
	<!--fake loading-->
	<div id="fake" class="tela dOff"><i class="fa fa-spinner fa-pulse fa-3x fa-fw centro"></i></div>
	
	<!--others buttons-->
	<button id="btn" disabled>B</button>
	<a href="https://github.com/netopapa/exemplo-ajax/" target="_blanc"><button id="btnGit"><i class="fa fa-github" aria-hidden="true"></i></button></a>
	<a href="https://github.com/netopapa/exemplo-ajax/archive/master.zip"><button id="download" class="dOff"><i class="fa fa-download" aria-hidden="true"></i></button></a>

	<!--ajac console view-->
	<div id="ajax" class="dOff tela">
		<h1 class="words"><span>A</span><span>J</span><span>A</span><span>X</span>  <span>&</span>  <span>J</span><span>Q</span><span>U</span><span>E</span><span>R</span><span>Y</span></h1>
		<h4>Consumindo api pública do pokemon:</h4>
		<div>
			<input type="text" id="pesquisa" placeholder="Numero entre 1 e 721">
			<button id="sbmt"><i class="fa fa-search" aria-hidden="true"></i></button>
		</div>
		<p id="json"></p>
		<i id="load" class="fa fa-spinner fa-pulse fa-3x fa-fw dOff"></i>
	</div>
</body>

<script src="js/ajax.js"></script>
<script>
		$(document).ready(function(){
			var botao = $("#btn");
			botao.click(function(){
				$("#ajax").addClass("dOff");
				$("#fake").removeClass("dOff");
				
				var girl = document.getElementById('girl');
				girl.volume = 1;
				girl.play();
				
				function trolla(){
					$("#fake").addClass("dOff");
					$("#troll").removeClass("dOff");
					function destrolla(){
						var download = $("#download");
						botao.addClass("dOff");
						download.removeClass("dOff");
						var girl = document.getElementById('girl');
						girl.pause();
					}
					setTimeout(destrolla, 1400);
				}
				setTimeout(trolla, 5000);
			});
		});
	</script>
</html>